<h1>Homework 5-2 </h1> <br>
<br>
<br>

<h2>Обязательные задания</h2><br>
<br>

<h3>№1 </h3><br>
<br>
Вас пригласили настроить мониторинг на проект. <br>
На онбординге вам рассказали, что проект представляет из себя платформу для вычислений с выдачей текстовых отчетов, которые сохраняются на диск. <br>
Взаимодействие с платформой осуществляется по протоколу http. Также вам отметили, что вычисления загружают ЦПУ. <br>
Какой минимальный набор метрик вы выведите в мониторинг и почему? <br>

<br><br>

1) CPU:<br>
  -Нагрузка на процессор<br>
  -Нагрузка на отдельные ядра CPU<br>
  -Средний уровень загрузки<br>
Причина: Позволяет отслеживать производительность вычислений и выявлять возможные перегрузки.<br>

<br>

2) ROM:<br>
  -Использование памяти<br>
  -Общий объем занятой памяти<br>
  -Процент доступной свободной памяти<br>
  -Доступное дисковое пространство<br>
  -Использование inode<br>
  -Состояние файловой системы<br>
Причина: Отчеты записываются на диск и недостаток места может спровоцировать сбои в работе системы.<br>

<br>

3) RAM:<br>
  -Использование памяти<br>
  -Общий объем занятой памяти<br>
  -Процент доступной свободной памяти<br>
  -Использование пространства подкачки (swap) - если вдруг присутсвует<br>
Причина: Высокое потребление памяти платформой может привести к сбоям или ошибкам, например типа OOM (Out of Memory).<br>

<br>

4) HTTP:<br>
  -Время ответа HTTP<br>
  -Время обработки HTTP-запросов<br>
  -Частота запросов в секунду<br>
  -Коды ответов (ошибки 5xx/4xx)<br>
Причина: Важно для оценки качества взаимодействия пользователей с платформой и быстродействия сервиса.<br>

<br>

5) Interfaces:<br>
  -Ошибки на сетевом интерфейсе<br>
Причина: Позволяет выявить проблемы с сетью, которые могут повлиять на доступность сервиса.<br>

<br>

6) proc.num, task<br>
  -Количество запущенных процессов<br>
Причина: Помогает отслеживать активность системы и выявлять возможные утечки ресурсов.<br>

<br><br>

<h3>№2 </h3><br>
<br>
Менеджер продукта посмотрев на ваши метрики сказал, что ему непонятно что такое RAM/inodes/CPUla. <br>
Также он сказал, что хочет понимать, насколько мы выполняем свои обязанности перед клиентами и какое качество обслуживания. Что вы можете ему предложить?<br>

<br><br>

<h4>Объяснение RAM/inodes/CPUla:</h4> <br>
 <br>
RAM (Оперативная память): <br>
    Объем оперативной памяти, доступной для выполнения приложений и процессов - влияет на скорость работы системы и количество одновременно запущенных приложений. <br>
 <br>
Inodes: <br>
    Структуры данных, которые хранят информацию о файлах и каталогах в файловой системе.  <br>
Каждый файл и каталог требует inode, и их количество ограничивает общее количество файлов, которые могут быть созданы на диске. - влияет на количество файлов. <br>
 <br>
CPU (Центральный процессор): <br>
    Основной компонент, выполняющий вычисления и операции. - Производительность CPU влияет на скорость обработки данных и выполнение задач.  <br>
 <br><br>
<h4>Для оценки выполнения обязанностей перед клиентами, необходимо:</h4> <br>
 <br>
    Проанализировать метрики производительности: <br>
        Мониторинг времени отклика системы и времени выполнения запросов. <br>
        Анализ загрузки CPU и использования RAM для выявления узких мест. <br>
 <br>
    Оценить качество обслуживания на основании: <br>
        Проведения регулярных опросов удовлетворенности клиентов для получения обратной связи. <br>
        Использование метрик NPS для оценки лояльности клиентов и их готовности рекомендовать услуги. <br>
 <br>
    Анализ отзывов поможет дать правильную оценку и выработать рекомендации к улучшению: <br>
        Сбор и анализ отзывов клиентов для выявления проблем и областей для улучшения. <br>
        Внедрение системы поддержки, которая позволяет быстро реагировать на запросы и проблемы клиентов. <br>
 <br><br>
<h4>  Могу ему предложить рекомендации для улучшения качества обслуживания:</h4> <br>
 <br>
    Обучение команды: <br>
        Проведение обучающих сессий для команды по пониманию метрик и их влияния на производительность. <br>
 <br>
    Регулярные отчеты: <br>
        Создание регулярных отчетов о производительности системы и качестве обслуживания для менеджмента. <br>
 <br>
    Улучшение процессов: <br>
        Оптимизация процессов на основе собранных данных и отзывов клиентов для повышения качества обслуживания. <br>

<br><br>

<h3>№3 </h3><br>
<br>
Вашей DevOps команде в этом году не выделили финансирование на построение системы сбора логов. <br>
Разработчики в свою очередь хотят видеть все ошибки, которые выдают их приложения. <br>
Какое решение вы можете предпринять в этой ситуации, чтобы разработчики получали ошибки приложения?<br>

<br><br>

Настроить логирование в системный журнал (journald/syslog)<br>
Настроить логирование на уровне приложения (Это может быть реализовано с помощью библиотек логирования, таких как log4j для Java, logging для Python и т.д.)<br>
Настройка уровня логирования (Info, ERROR, DEBUG)<br>
Если приложения работают на Linux, они могут писать ошибки в journald (если systemd) или syslog.<br>
Если приложение пишет логи в файл (/var/log/app.log), можно использовать logrotate для отправки новых ошибок разработчикам.<br>
Отправка ошибок в Telegram/Slack через shell-скрипт<br>
Если разработчикам нужен онлайн-доступ, можно настроить простой скрипт, который будет пересылать ERROR-логи в Telegram или Slack.<br>
Интеграция с существующими системами мониторинга<br>

<br><br>

<h3>№4 </h3><br>
<br>
Вы, как опытный SRE, сделали мониторинг, куда вывели отображения выполнения SLA=99% по http кодам ответов.<br>
Вычисляете этот параметр по следующей формуле: summ_2xx_requests/summ_all_requests. <br>
Данный параметр не поднимается выше 70%, но при этом в вашей системе нет кодов ответа 5xx и 4xx. Где у вас ошибка?<br>

<br><br>

Ошибка в том, что данное выражение не учитывает другие возможные коды, которые при определенных настройках могут занимать значительный объем requests. <br>
Для того чтобы получить точное значение требуется пересмотреть выражение, например (summ_2xx_requests+summ_3xx_requests)/summ_all_requests <br>

<h3>№5 </h3><br>
<br>
Опишите основные плюсы и минусы pull и push систем мониторинга.<br>

<br><br>

<h4>Pull-системы мониторинга</h4><br>
<br>
Принцип работы: В pull-системах мониторинга сервер (или система мониторинга) периодически запрашивает данные у целевых систем или агентов.<br>
<br>
Плюсы:<br>
<br>
    Простота настройки: Обычно проще настроить, так как сервер сам запрашивает данные, и не требуется сложная конфигурация на стороне клиента.<br>
    Контроль за нагрузкой: Сервер может контролировать частоту запросов, что позволяет избежать перегрузки целевых систем.<br>
    Устойчивость к сбоям: Если целевая система временно недоступна, сервер может продолжать работать и запрашивать данные позже.<br>
    Легкость в масштабировании: Добавление новых целевых систем обычно не требует изменений в конфигурации существующих систем мониторинга.<br>
<br>
Минусы:<br>
<br>
    Задержка в получении данных: Данные могут быть неактуальными, так как сервер запрашивает их с определенной периодичностью.<br>
    Нагрузка на сеть: При частых запросах может возникнуть дополнительная нагрузка на сеть, особенно если количество целевых систем велико.<br>
    Сложность в мониторинге событий: Сложнее отслеживать события, которые происходят в реальном времени, так как данные запрашиваются периодически.<br>
<br>
<h4>Push-системы мониторинга</h4><br>
<br>
Принцип работы: В push-системах целевые системы или агенты отправляют данные непосредственно на сервер мониторинга.<br>
<br>
Плюсы:<br>
<br>
    Актуальность данных: Данные отправляются в реальном времени, что позволяет быстро реагировать на изменения и события.<br>
    Снижение нагрузки на сервер: Сервер не тратит ресурсы на периодические запросы, так как данные поступают по мере их возникновения.<br>
    Удобство для событийного мониторинга: Легче отслеживать события и аномалии, так как данные отправляются сразу после их возникновения.<br>
<br>
Минусы:<br>
<br>
    Сложность настройки: Требует более сложной конфигурации на стороне клиентов, что может усложнить развертывание.<br>
    Проблемы с надежностью: Если целевая система временно недоступна, данные могут быть потеряны, если не реализована система буферизации.<br>
    Управление нагрузкой: Необходимо следить за тем, чтобы не перегружать сервер слишком частыми или объемными данными, особенно в условиях высокой нагрузки.<br>

<br><br>

<h3>№6 </h3><br>
<br>
Какие из ниже перечисленных систем относятся к push модели, а какие к pull? А может есть гибридные?<br>
    Prometheus<br>
    TICK<br>
    Zabbix<br>
    VictoriaMetrics<br>
    Nagios<br>

<br><br>
